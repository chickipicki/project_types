<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Симулятор: Класифікація ІТ-проєктів</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f6f8; /* Updated */
            color: #343a40; /* Updated */
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .simulator-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 850px;
            margin: 20px auto;
        }
        .simulator-container h1 {
            color: #007bff; /* Updated */
            text-align: center;
            margin-bottom: 10px;
        }
        .simulator-container > p {
            text-align: center;
            color: #495057; /* Updated */
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .scenario {
            background-color: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .scenario:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        .scenario h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #007bff; /* Updated */
            font-size: 1.6em;
            border-bottom: 2px solid #007bff; /* Updated */
            padding-bottom: 10px;
        }
        .scenario h4 {
            margin-top: 20px;
            margin-bottom: 10px;
            color: #3c4043;
            font-size: 1.1em;
            font-weight: 600;
        }
        .scenario p {
            margin-bottom: 15px;
            line-height: 1.7;
            color: #4f4f4f;
            font-size: 1.05em;
        }
        .options label {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 15px;
            border: 1px solid #dadce0;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            background-color: #f8f9fa;
        }
        .options label:hover {
            background-color: #e2e6ea; /* Updated */
            border-color: #007bff; /* Updated */
        }
        .options input[type="radio"] {
            display: none; /* Hide default radio button */
        }
        .options input[type="radio"] + span {
            display: inline-block;
            position: relative;
            padding-left: 30px; /* Space for custom radio */
            line-height: 20px;
            font-size: 1em;
            color: #3c4043;
        }
        .options input[type="radio"] + span::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 20px;
            height: 20px;
            border: 2px solid #5f6368;
            border-radius: 50%;
            background-color: #fff;
            box-sizing: border-box;
        }
        .options input[type="radio"]:checked + span::before {
            border-color: #007bff; /* Updated */
            background-color: #007bff; /* Updated */
        }
        .options input[type="radio"]:checked + span::after {
            content: '';
            position: absolute;
            left: 6px;
            top: 6px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
        }
        .options input[type="radio"]:checked + span {
            color: #007bff; /* Updated */
            font-weight: 600;
        }
        button {
            background-color: #17A2B8; /* New teal */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background-color 0.2s, box-shadow 0.2s;
            display: block;
            margin-top: 20px;
            min-width: 150px;
        }
        button:hover {
            background-color: #138496; /* Darker teal */
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .result {
            margin-top: 20px;
            padding: 18px;
            border-radius: 8px;
            font-size: 1.1em;
            line-height: 1.6;
        }
        .correct {
            background-color: #d4edda; /* Updated Light Green */
            color: #155724; /* Updated Dark Green */
            border: 1px solid #c3e6cb; /* Updated Border Green */
        }
        .incorrect {
            background-color: #f8d7da; /* Updated Light Red */
            color: #721c24; /* Updated Dark Red */
            border: 1px solid #f5c6cb; /* Updated Border Red */
        }
        .explanation {
            margin-top: 12px;
            font-style: italic;
            color: #495057; /* Updated */
            font-size: 0.95em;
        }
        .show-explanation-btn {
            background-color: #6c757d; /* Secondary button color */
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
            transition: background-color 0.2s;
        }
        .show-explanation-btn:hover {
            background-color: #5a6268;
        }

        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 25px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }

        .modal-content h2 {
            margin-top: 0;
            color: #007bff;
        }

        .modal-content input[type="text"] {
            width: calc(100% - 42px); /* Adjusted for padding and border */
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
        }

        .modal-content button {
            /* Using existing button styles by default */
        }
    </style>
</head>
<body>
    <div id="nameModal" class="modal">
        <div class="modal-content">
            <h2>Введіть ваше ім'я</h2>
            <input type="text" id="studentNameModal" placeholder="Ваше ім'я" required>
            <button onclick="startQuiz()">Почати тест</button>
        </div>
    </div>

    <div class="simulator-container">
        <h1>Класифікація ІТ-проєктів</h1>
        <p>Проаналізуйте наведені сценарії, визначте тип ІТ-проєкту та прийміть найкраще рішення.</p>
        
        <div id="quiz-content" style="display: none;">
            <div class="scenario" id="scenario1"> <!-- Corrected the malformed div -->
                <h3>Сценарій 1: Стартап "Швидка доставка їжі"</h3>
            <p>Молода команда ентузіастів вирішила створити власний мобільний додаток для швидкого замовлення їжі. Вони самостійно придумують ідею, розробляють функціонал, тестують продукт, запускають його на ринок і отримують прибуток від кінцевих користувачів. Всі рішення приймаються всередині команди, а додаток є їхньою інтелектуальною власністю. Команда не працює на замовлення сторонньої компанії, а створює власний продукт для продажу на ринку.</p>
            <h4>Завдання: Який тип проєкту найкраще описує створення цього додатку?</h4>
            <div class="options">
                <label><input type="radio" name="scenario1_choice" value="a"><span>Сервісний (Service-based)</span></label>
                <label><input type="radio" name="scenario1_choice" value="b"><span>Продуктовий (Product-based)</span></label>
                <label><input type="radio" name="scenario1_choice" value="c"><span>Аутсорсинговий (Outsourcing)</span></label>
            </div>
            <button onclick="checkScenario('scenario1', 'b', 'Зверніть увагу на те, хто є ініціатором проєкту, хто володіє продуктом та хто отримує прибуток.')">Перевірити</button>
            <div class="result" id="result-scenario1"></div>
        </div>

        <div class="scenario" id="scenario2">
            <h3>Сценарій 2: Замовлення CRM для компанії</h3>
            <p>Українська компанія замовила розробку CRM-системи для автоматизації своїх бізнес-процесів у зовнішньої ІТ-компанії. Всі вимоги формулює замовник, а команда розробників виконує роботи згідно з технічним завданням, погоджуючи етапи з клієнтом. Після завершення проєкту система впроваджується у бізнес замовника.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю співпрацю?</h4>
            <div class="options">
                <label><input type="radio" name="scenario2_choice" value="a"><span>Аутсорсинговий (Outsourcing)</span></label>
                <label><input type="radio" name="scenario2_choice" value="b"><span>Продуктовий (Product-based)</span></label>
                <label><input type="radio" name="scenario2_choice" value="c"><span>Аутстафінг (Outstaffing)</span></label>
            </div>
            <button onclick="checkScenario('scenario2', 'a', 'Розгляньте, чи компанія виконує роботу для себе, чи для зовнішнього клієнта за його специфікаціями.')">Перевірити</button>
            <div class="result" id="result-scenario2"></div>
        </div>

        <div class="scenario" id="scenario3">
            <h3>Сценарій 3: Аутстафінг для банку</h3>
            <p>Великий банк наймає кількох розробників через компанію для роботи над внутрішніми системами. Розробники формально працюють у підрядника, але щодня виконують завдання та підпорядковуються менеджерам банку, інтегруючись у його команди.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю ситуацію?</h4>
            <div class="options">
                <label><input type="radio" name="scenario3_choice" value="a"><span>Аутсорсинговий (Outsourcing)</span></label>
                <label><input type="radio" name="scenario3_choice" value="b"><span>Аутстафінг (Outstaffing)</span></label>
                <label><input type="radio" name="scenario3_choice" value="c"><span>Продуктовий (Product-based)</span></label>
            </div>
            <button onclick="checkScenario('scenario3', 'b', 'Ключовим є те, де фізично та організаційно працюють розробники, та хто керує їхньою роботою.')">Перевірити</button>
            <div class="result" id="result-scenario3"></div>
        </div>

        <div class="scenario" id="scenario4">
            <h3>Сценарій 4: SaaS-платформа для автоматизації бізнесу</h3>
            <p>Команда створює хмарну платформу для автоматизації бізнес-процесів, яку потім продає різним компаніям за підпискою. Всі функції та розвиток платформи визначає сама команда, орієнтуючись на потреби ринку.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю платформу?</h4>
            <div class="options">
                <label><input type="radio" name="scenario4_choice" value="a"><span>Продуктовий (Product-based)</span></label>
                <label><input type="radio" name="scenario4_choice" value="b"><span>Сервісний (Service-based)</span></label>
                <label><input type="radio" name="scenario4_choice" value="c"><span>Аутсорсинговий (Outsourcing)</span></label>
            </div>
            <button onclick="checkScenario('scenario4', 'a', 'Подумайте, чи створюється унікальний продукт для одного замовника, чи універсальне рішення для ринку.')">Перевірити</button>
            <div class="result" id="result-scenario4"></div>
        </div>

        <div class="scenario" id="scenario5">
            <h3>Сценарій 5: Розробка мобільного додатку для клієнта з ЄС</h3>
            <p>Європейська компанія замовила розробку мобільного додатку в української ІТ-компанії. Всі вимоги та дизайн надає замовник, а команда виконує розробку та тестування, регулярно звітуючи про прогрес.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю співпрацю?</h4>
            <div class="options">
                <label><input type="radio" name="scenario5_choice" value="a"><span>Аутсорсинговий (Outsourcing)</span></label>
                <label><input type="radio" name="scenario5_choice" value="b"><span>Продуктовий (Product-based)</span></label>
                <label><input type="radio" name="scenario5_choice" value="c"><span>Аутстафінг (Outstaffing)</span></label>
            </div>
            <button onclick="checkScenario('scenario5', 'a', 'Хто визначає вимоги до продукту та для кого він розробляється?')">Перевірити</button>
            <div class="result" id="result-scenario5"></div>
        </div>

        <div class="scenario" id="scenario6">
            <h3>Сценарій 6: Внутрішній проєкт для автоматизації HR</h3>
            <p>Велика компанія створює систему для автоматизації процесів управління персоналом. Розробкою займається команда, яка враховує специфічні потреби компанії та інтегрує систему з іншими корпоративними сервісами.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю ситуацію?</h4>
            <div class="options">
                <label><input type="radio" name="scenario6_choice" value="a"><span>Продуктовий (Product-based)</span></label>
                <label><input type="radio" name="scenario6_choice" value="b"><span>Внутрішній (Internal)</span></label>
                <label><input type="radio" name="scenario6_choice" value="c"><span>Аутсорсинговий (Outsourcing)</span></label>
            </div>
            <button onclick="checkScenario('scenario6', 'b', 'Чи призначений кінцевий продукт для продажу на ринку, чи для використання всередині самої компанії?')">Перевірити</button>
            <div class="result" id="result-scenario6"></div>
        </div>

        <div class="scenario" id="scenario7">
            <h3>Сценарій 7: Розробка стартапу з США</h3>
            <p>Американський стартап залучає українських розробників через компанію для роботи над своїм продуктом. Розробники працюють у складі команди стартапу, але формально працевлаштовані в українській компанії.</p>
            <h4>Завдання: Який тип проєкту найкраще описує цю співпрацю?</h4>
            <div class="options">
                <label><input type="radio" name="scenario7_choice" value="a"><span>Аутсорсинговий (Outsourcing)</span></label>
                <label><input type="radio" name="scenario7_choice" value="b"><span>Аутстафінг (Outstaffing)</span></label>
                <label><input type="radio" name="scenario7_choice" value="c"><span>Продуктовий (Product-based)</span></label>
            </div>
            <button onclick="checkScenario('scenario7', 'b', 'Зверніть увагу на формальне працевлаштування розробників та їх фактичну інтеграцію в команду клієнта.')">Перевірити</button>
            <div class="result" id="result-scenario7"></div>
        </div>

        <div class="scenario" id="scenario8">
            <h3>Сценарій 8: Slack та українська команда</h3>
            <p>Компанія Slack вирішила швидко додати новий функціонал до свого продукту та звернулася до української ІТ-компанії для розробки певних модулів. Українська команда працює над завданнями, визначеними Slack, і регулярно звітує про прогрес.</p>
            <h4>Завдання: Який тип проєкту найкраще описує співпрацю Slack з українською командою?</h4>
            <div class="options">
                <label><input type="radio" name="scenario8_choice" value="a"><span>Аутстафінг (Outstaffing)</span></label>
                <label><input type="radio" name="scenario8_choice" value="b"><span>Аутсорсинговий (Outsourcing)</span></label>
                <label><input type="radio" name="scenario8_choice" value="c"><span>Продуктовий (Product-based)</span></label>
            </div>
            <button onclick="checkScenario('scenario8', 'b', 'Чи працює команда над власним продуктом, чи виконує конкретні завдання для продукту іншої компанії?')">Перевірити</button>
            <div class="result" id="result-scenario8"></div>
        </div>

        <div class="scenario" id="scenario9">
            <h3>Сценарій 9: Google та розробка Android</h3>
            <p>Компанія Google створює та постійно покращує операційну систему Android для телефонів. Це їх власний великий проєкт.</p>
            <h4>Завдання: Який тип проєкту представляє розробка Android для Google?</h4>
            <div class="options">
                <label><input type="radio" name="scenario9_choice" value="a"><span>Сервісний проєкт для виробників смартфонів</span></label>
                <label><input type="radio" name="scenario9_choice" value="b"><span>Продуктовий проєкт Google</span></label>
                <label><input type="radio" name="scenario9_choice" value="c"><span>Аутсорсинговий проєкт</span></label>
            </div>
            <button onclick="checkScenario('scenario9', 'b', 'Чи є кінцевою метою продаж готового продукту широкому колу користувачів?')">Перевірити</button>
            <div class="result" id="result-scenario9"></div>
        </div>

        <div class="scenario" id="scenario10">
            <h3>Сценарій 10: IoT-проєкт для компанії Ring</h3>
            <p>Міжнародна компанія Ring, що спеціалізується на розумних пристроях для безпеки, залучила українську команду розробників для створення нових IoT-рішень. Українські фахівці працюють над окремими модулями, інтегрують їх у глобальну систему Ring, але не володіють кінцевим продуктом. Всі технічні вимоги та контроль залишаються за Ring.</p>
            <h4>Завдання: Який тип співпраці тут реалізовано?</h4>
            <div class="options">
                <label><input type="radio" name="scenario10_choice" value="a"><span>Аутсорсинговий проєкт для Ring</span></label>
                <label><input type="radio" name="scenario10_choice" value="b"><span>Продуктовий проєкт української команди</span></label>
                <label><input type="radio" name="scenario10_choice" value="c"><span>Аутстафінг інженерів до Ring</span></label>
            </div>
            <button onclick="checkScenario('scenario10', 'a', 'Для кого створюється система – для зовнішніх клієнтів чи для покращення роботи самої організації?')">Перевірити</button>
             <div class="result" id="result-scenario10"></div>
          </div>
        </div> <!-- Closing quiz-content -->

    </div>

    <script>
        let studentName = '';
        let currentStudentName = '';
        let studentAnswers = {};
        let allStudentResults = JSON.parse(localStorage.getItem('allStudentResults')) || [];

        function isAdmin() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('admin') === 'true';
        }

        document.addEventListener('DOMContentLoaded', function() {
            const nameModal = document.getElementById('nameModal');
            const quizContent = document.getElementById('quiz-content');
            const showResultsButton = document.getElementById('showAllResultsBtn');

            if (nameModal) nameModal.style.display = 'block'; // Show modal on page load
            if (quizContent) quizContent.style.display = 'none'; // Hide quiz content initially

            if (isAdmin()) {
                if (showResultsButton) {
                    showResultsButton.style.display = 'block';
                }
            } else {
                if (showResultsButton) {
                    showResultsButton.style.display = 'none';
                }
            }
        });

        function startQuiz() {
            const studentNameInput = document.getElementById('studentName');
            currentStudentName = studentNameInput.value.trim();
            if (currentStudentName === '') {
                alert('Будь ласка, введіть ваше ім\'я.');
                return;
            }
            document.getElementById('student-info-container').style.display = 'none';
            document.getElementById('quiz-content').style.display = 'block';
            // Опціонально: зберегти ім'я студента в localStorage, якщо потрібно для інших цілей
            // localStorage.setItem('currentStudent', currentStudentName);
        }

        function checkScenario(scenarioId, correctAnswer, explanation) {
            if (currentStudentName === '') {
                alert('Будь ласка, спочатку вкажіть своє ім\'я та почніть тест.');
                // Можливо, перенаправити назад до форми введення імені або показати її
                document.getElementById('student-info-container').style.display = 'block';
                document.getElementById('quiz-content').style.display = 'none';
                return;
            }


            const resultDiv = document.getElementById(`result-${scenarioId}`);
            const selectedOption = document.querySelector(`input[name="${scenarioId}_choice"]:checked`);

            if (!selectedOption) {
                resultDiv.innerHTML = "Будь ласка, оберіть варіант відповіді.";
                resultDiv.className = 'result incorrect';
                return;
            }

            const userAnswer = selectedOption.value;
            const isCorrect = userAnswer === correctAnswer;

            if (isCorrect) {
                resultDiv.innerHTML = `<strong>Правильно!</strong> ${explanation}`;
                resultDiv.className = 'result correct';
            } else {
                resultDiv.innerHTML = `<strong>Неправильно.</strong> <button class="show-explanation-btn" onclick="showExplanation('${scenarioId}', '${explanation.replace(/'/g, "\\'")}')">Показати підказку</button>`;
                resultDiv.className = 'result incorrect';
            }

            saveResult(scenarioId, userAnswer, isCorrect, correctAnswer, explanation);
        }

        function showExplanation(scenarioId, explanation) {
            const resultDiv = document.getElementById(`result-${scenarioId}`);
            const explanationDiv = resultDiv.querySelector('.explanation');
            if (explanationDiv) {
                explanationDiv.innerHTML = `<strong>Пояснення:</strong> ${explanation}`;
            } else {
                resultDiv.innerHTML += `<div class="explanation"><strong>Пояснення:</strong> ${explanation}</div>`;
            }
        }

        function saveResult(scenarioId, userAnswer, isCorrect, correctAnswerText, explanationText) {
            let allStudentResults = JSON.parse(localStorage.getItem('allQuizResults')) || {};
            
            if (!allStudentResults[currentStudentName]) {
                allStudentResults[currentStudentName] = [];
            }
            
            allStudentResults[currentStudentName].push({
                scenarioId: scenarioId,
                studentAnswer: userAnswer,
                isCorrect: isCorrect,
                correctAnswer: correctAnswerText, // Зберігаємо текст правильної відповіді
                explanation: explanationText,
                timestamp: new Date().toLocaleString()
            });
            
            localStorage.setItem('allQuizResults', JSON.stringify(allStudentResults));
            console.log('Результат збережено для студента:', currentStudentName, allStudentResults[currentStudentName]);
        }

        // Приклад функції для відображення результатів (можна розширити для показу на сторінці)
        function viewStudentResults() {
            const studentName = prompt("Введіть ім'я студента, результати якого хочете переглянути:");
            if (!studentName) return;

            const allResults = JSON.parse(localStorage.getItem('allQuizResults'));
            if (allResults && allResults[studentName]) {
                let resultsHtml = `<h2>Результати для студента: ${studentName}</h2><ul>`;
                allResults[studentName].forEach(res => {
                    resultsHtml += `<li>
                        <strong>Сценарій ${res.scenarioId.replace('scenario', '')}:</strong> 
                        Відповідь - ${res.studentAnswer} (${res.isCorrect ? 'Правильно' : 'Неправильно'}). 
                        Правильна відповідь: ${res.correctAnswer}.
                        <small>(${res.timestamp})</small>
                    </li>`;
                });
                resultsHtml += '</ul>';
                
                // Створюємо новий div для відображення або використовуємо існуючий
                let displayDiv = document.getElementById('student-results-display');
                if (!displayDiv) {
                    displayDiv = document.createElement('div');
                    displayDiv.id = 'student-results-display';
                    document.querySelector('.simulator-container').appendChild(displayDiv);
                }
                displayDiv.innerHTML = resultsHtml;
            } else {
                alert('Результати для цього студента не знайдено.');
            }
        }
        
        // Можна додати кнопку для виклику viewStudentResults
        // Наприклад, в кінці .simulator-container додати:
        // <button onclick="viewStudentResults()" style="margin-top: 30px;">Переглянути результати студента</button>

    </script>
        </div> <!-- Closing quiz-content -->
        <div id="all-results-container" style="margin-top: 30px; padding: 20px; background-color: #e9ecef; border-radius: 8px; text-align: left;">
             <!-- Results will be displayed here by showAllResults() -->
        </div>
    </div>
<script>
    // This script block is now primarily for the quiz logic itself
    // The isAdmin and DOMContentLoaded for admin button visibility is handled in the script tag in the <head> or earlier in <body>
    let studentNameGlobal = "";
    // studentAnswers is already defined above, ensure no re-declaration if merging scripts
    // let studentAnswers = {}; 

// This logic is moved to the main DOMContentLoaded listener

    function startQuiz() {
        const nameInput = document.getElementById('studentNameModal');
        studentNameGlobal = nameInput.value.trim();

        if (studentNameGlobal === "") {
            alert("Будь ласка, введіть ваше ім'я.");
            return;
        }

        document.getElementById('nameModal').style.display = 'none';
        const quizContent = document.getElementById('quiz-content');
        if (quizContent) {
            quizContent.style.display = 'block';
        }
    }

    function checkScenario(scenarioId, correctAnswerLetter, explanation) {
        const choices = document.getElementsByName(scenarioId + '_choice');
        let selectedValue;
        for (const choice of choices) {
            if (choice.checked) {
                selectedValue = choice.value;
                break;
            }
        }

        const resultDiv = document.getElementById('result-' + scenarioId);
        if (!resultDiv) {
            console.error('Result div not found for ' + scenarioId);
            return;
        }
        
        resultDiv.innerHTML = ''; // Clear previous result

        if (selectedValue) {
            const isCorrect = selectedValue === correctAnswerLetter;
            
            const resultMessage = document.createElement('p');
            if (isCorrect) {
                resultMessage.textContent = 'Правильно!';
                resultDiv.className = 'result correct';
            } else {
                resultMessage.textContent = 'Неправильно!';
                resultDiv.className = 'result incorrect';

                const explanationButton = document.createElement('button');
                explanationButton.textContent = 'Показати підказку';
                explanationButton.className = 'show-explanation-btn';
                explanationButton.onclick = function() {
                    const explanationDiv = document.createElement('p');
                    explanationDiv.textContent = explanation;
                    explanationDiv.className = 'explanation';
                    resultDiv.appendChild(explanationDiv);
                    explanationButton.style.display = 'none'; // Hide button after showing explanation
                };
                resultDiv.appendChild(resultMessage);
                resultDiv.appendChild(explanationButton);
            }
            
            // Remove the old explanation display logic
            // const explanationDiv = document.createElement('p');
            // explanationDiv.textContent = explanation;
            // explanationDiv.className = 'explanation';
            // resultDiv.appendChild(explanationDiv);

        } else {
            resultDiv.textContent = 'Будь ласка, оберіть варіант відповіді.';
            resultDiv.className = 'result incorrect';
        }
    }


</script>
</body>
</html>